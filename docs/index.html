<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Bradley J. Congelio">
<title>An Introduction to NFL Analytics with R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./01-nfl-analytics-and-r.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0ZLEFZL898"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0ZLEFZL898', { 'anonymize_ip': true});
</script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">An Introduction to NFL Analytics with R</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">An Introduction to NFL Analytics with R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/bcongelio/nfl-analytics-with-r-book" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
<li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-nfl-analytics-and-r.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">An Introduction to NFL Analytics and the R Programming Language</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-nfl-analytics-tidyverse.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Wrangling NFL Data in the <code>tidyverse</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-nfl-analytics-functions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">NFL Analytics with the <code>nflverse</code> Family of Packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-nfl-analytics-visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Visualization with NFL Analytics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-nfl-analytics-advanced-methods.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Advanced Methods: Modeling and Big Data Bowl</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Appendices</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a1-nfl-analytics-dictionary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">NFL Analytics Reference Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a2-nfl-further-reading.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Further Reading Suggestions</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="toc-section-number">1</span>  Introduction</a>
  <ul class="collapse">
<li><a href="#who-this-book-is-for" id="toc-who-this-book-is-for" class="nav-link" data-scroll-target="#who-this-book-is-for"><span class="toc-section-number">1.0.1</span>  Who This Book Is For</a></li>
  <li><a href="#overview-of-chapters" id="toc-overview-of-chapters" class="nav-link" data-scroll-target="#overview-of-chapters"><span class="toc-section-number">1.1</span>  Overview of Chapters</a></li>
  <li>
<a href="#about-the-author" id="toc-about-the-author" class="nav-link" data-scroll-target="#about-the-author">About The Author</a>
  <ul class="collapse">
<li><a href="#why-a-book-instead-of-working-in-analytics" id="toc-why-a-book-instead-of-working-in-analytics" class="nav-link" data-scroll-target="#why-a-book-instead-of-working-in-analytics"><span class="toc-section-number">1.1.1</span>  Why A Book Instead of Working in Analytics?</a></li>
  </ul>
</li>
  <li><a href="#technical-details" id="toc-technical-details" class="nav-link" data-scroll-target="#technical-details">Technical Details</a></li>
  <li><a href="#license" id="toc-license" class="nav-link" data-scroll-target="#license"><span class="toc-section-number">1.2</span>  License</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">An Introduction to NFL Analytics with R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Bradley J. Congelio </p>
          </div>
  </div>
    
  
    
  </div>
  

</header><div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Please note:</strong> this book is currently under contract with <a href="https://www.routledge.com/go/crc-press">CRC Press</a> and is in the writing process. <em>Chapters that are completed are to be considered a rough draft</em>. Other chapters, while listed in the table of contents, have yet to be worked on. The finished manuscript is scheduled for submission to CRC Press in very early 2023. The complete, open-source version will be “official” and live at that point, with the hard copy of the book coming soon after.</p>
</div>
</div>
<center>
Welcome to the online home of<br><strong><em>Introduction to NFL Analytics with R</em>.</strong>
</center>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/big-ben-intro.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
<p>As this book is published online, it allows me to continue real-time development of it. Because of this, make note of the following:</p>
<ul>
<li><p><em>Introduction to NFL Analytics with R</em> is currently under contract with CRC Press. A hard copy of the book will be available for pre-order on Amazon and other locations in early 2023.</p></li>
<li><p>Please feel free to contribute to the book by filing an issue or making a pull request at the book’s GitHub repository: <a href="https://github.com/bcongelio/nfl-analytics-with-r-book"><em>Introduction to NFL Analytics with R</em> Github Repository</a></p></li>
<li><p>The majority of the chapters conclude with exercises. In some cases, prepared data will be provided with a link to download the file. In other cases, you are expected to use the <code>nflverse</code> to collect the data yourself. In either case, the book’s github repository for the exercises (link to the specific directory coming soon) will include the R files that contain the answers to each exercise.</p></li>
<li><p>Soon there will be a YouTube series to go along with the written version of this book. In brief, the videos will include my going over each chapter, step-by-step, with additional instruction and/or approaches.</p></li>
<li><p>Are you an instructor hoping to create or grow your Sport Analytics course? Future plans for this book include the creation of Instructor Materials to include an example syllabus plus structured lesson plans, exercises, assignments, quizzes, and exams. As well, templates for lectures will be included in PowerPoint form so you may edit to fit your specific needs.</p></li>
</ul>
<section id="introduction" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Introduction</h1>
<p>On April 27, 2020, Ben Baldwin hit send on a Tweet that announced the birth of <code>nflfastR</code>, an R package designed to scrape NFL play-by-play data, allowing the end-user to access it at speeds quicker than similar predecessors (hence the name).</p>
<p></p>
<div id="tweet-64077"></div>
<script>tweet={"url":"https:\/\/twitter.com\/benbbaldwin\/status\/1254846456390975494","author_name":"Computer Cowboy","author_url":"https:\/\/twitter.com\/benbbaldwin","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EINTRODUCING: \u003Ca href=\"https:\/\/twitter.com\/nflfastR?ref_src=twsrc%5Etfw\"\u003E@nflfastR\u003C\/a\u003E, an R package for scraping NFL data faster ⚡\u003Cbr\u003E\u003Cbr\u003E\uD83C\uDFC8 Play-by-play of all NFL games going back to 2000\u003Cbr\u003E\uD83C\uDFC8 Includes Completion Probability and CPOE going back to 2006\u003Cbr\u003E\uD83C\uDFC8 Fast functions for scraping team rosters and highlight videos\u003Ca href=\"https:\/\/t.co\/sgrq8GdoWJ\"\u003Ehttps:\/\/t.co\/sgrq8GdoWJ\u003C\/a\u003E \u003Ca href=\"https:\/\/t.co\/fqbyE1pPHE\"\u003Epic.twitter.com\/fqbyE1pPHE\u003C\/a\u003E\u003C\/p\u003E&mdash; Computer Cowboy (@benbbaldwin) \u003Ca href=\"https:\/\/twitter.com\/benbbaldwin\/status\/1254846456390975494?ref_src=twsrc%5Etfw\"\u003EApril 27, 2020\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-64077").innerHTML = tweet["html"];</script><p>Thanks to the work of multiple people (<a href="https://twitter.com/mrcaseb">@mrcaseB</a>, <a href="https://twitter.com/benbbaldwin">@benbbaldwin</a>, <a href="https://twitter.com/_TanHo">@TanHo</a>, <a href="https://twitter.com/LeeSharpeNFL">@LeeSharpeNFL</a>, and <a href="https://twitter.com/thomas_mock">@thomas_mock</a> … to just name a few), the process of getting started with advanced analytics using NFL data is now easier than ever.</p>
<p>That said, and without getting too far into the weeds of the history behind it all, the above-mentioned people are responsible in some shape or form for the current status of the <code>nflverse</code>, which is a superb collection of data and R-based packages that allows anybody the ability to access deeply robust NFL data as far back as the 1999 season.</p>
<p>The <code>nflverse</code> as we know it today was initially birthed from the <code>nflscrapR</code> project, which was started by the Carnegie Mellon University student and profess duo of <a href="https://twitter.com/bklynmaks?lang=en">Maksim Horowitz</a> and <a href="https://twitter.com/stat_sam">Sam Ventura</a>. After Horowitz graduated - and got hired by the Atlanta Hawks - the <code>nflscrapR</code> package was taken over by fellow CMU student Ron Yorko (who would go on to receive his Ph.D.&nbsp;from the Statistics and Data Science program). The trio’s work on <code>nflscrapR</code> ultimately led to a peer-reviewed paper titled “<a href="https://arxiv.org/pdf/1802.00998.pdf">nflWAR: A Reproducible Method for Offensive Player Evaluation in Football.</a>” Ultimately, the <code>nflscrapR</code> project came to an end when the specific .json feed used to gather NFL data changed. At this point, Ben Baldwin and Sebastian Carl had already built upon the <code>nflscrapR</code> project’s foundations to create <code>nflfastR</code>. Ron officially marked the end of the <code>nflscrapR</code> era and the beginning of the <code>nflfastR</code> era with a tweet on September 14, 2020:<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p></p>
<div id="tweet-21184"></div>
<script>tweet={"url":"https:\/\/twitter.com\/nflscrapR\/status\/1305586160262152193","author_name":"nflscrapR","author_url":"https:\/\/twitter.com\/nflscrapR","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EPlease use \u003Ca href=\"https:\/\/twitter.com\/nflfastR?ref_src=twsrc%5Etfw\"\u003E@nflfastR\u003C\/a\u003E from here on out - and send all of your questions and issues to \u003Ca href=\"https:\/\/twitter.com\/benbbaldwin?ref_src=twsrc%5Etfw\"\u003E@benbbaldwin\u003C\/a\u003E \u003Ca href=\"https:\/\/twitter.com\/mrcaseb?ref_src=twsrc%5Etfw\"\u003E@mrcaseb\u003C\/a\u003E \u003Ca href=\"https:\/\/t.co\/8GVD0fi4Uy\"\u003Epic.twitter.com\/8GVD0fi4Uy\u003C\/a\u003E\u003C\/p\u003E&mdash; nflscrapR (@nflscrapR) \u003Ca href=\"https:\/\/twitter.com\/nflscrapR\/status\/1305586160262152193?ref_src=twsrc%5Etfw\"\u003ESeptember 14, 2020\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-21184").innerHTML = tweet["html"];</script><p>As a reply to his first tweet about the <code>nflfastR</code> project, Ben explained that he created the original function to scrape NFL data for the creation of his <a href="https://rbsdm.com/stats/stats/">NFL analytics website</a>. Thankfully, he and Seb did not keep the creation to themselves and released <code>nflfastR</code> to the public. Because of the “open source” nature of R and R packages, a laundry list of companion packages quickly developed alongside <code>nflfastR</code>. The original <code>nflfastR</code> package is now part of the larger <code>nflverse</code> of packages that drive the NFL analytics community on Twitter and beyond.</p>
<p>The creation of the <code>nflverse</code> allowed for anybody interested in NFL analytics to easily access data, manipulate it to their liking, and release their visualizations and/or metrics to the wider public. In fact, it is now a regular occurrence for somebody to advance their R programming ability because of the <code>nflverse</code> and then go on to win the Big Data Bowl. As of the 2022 version of the Big Data Bowl, over “30 participants have been hired to work in data and analytics roles in sports, including 22 that were hired in football” <span class="citation" data-cites="bigdatabowl-ws">(<a href="references.html#ref-bigdatabowl-ws" role="doc-biblioref"><span>“Big Data Bowl: The Annual Analytics Contest Explores Statistical Innovations in Football,”</span> n.d.</a>)</span>. Most recently, the <a href="https://www.boltsfromtheblue.com/2021/7/9/22570490/chargers-news-nfl-big-data-bowl">Chargers hired 2020 participate Alex Stern</a> and the <a href="https://twitter.com/sethwalder/status/1532721476209627136">Chiefs hired Marc Richards</a>, a member of the winning 2021 team, as a Football Research Analyst.</p>
<p>Kevin Clark, in a 2018 article for <a href="https://www.theringer.com/nfl/2018/12/19/18148153/nfl-analytics-revolution"><em>The Ringer</em></a>, explained that despite not being as obvious as the sabermetrics movement in baseball, the analytics movement in the NFL is “happening in front of you all the time.” The use of analytics in the NFL did, however, predate Clark’s article. In 2014, Eagles head coach Doug Pederson explained that all decisions made by the organization - from game planning to draft strategy - were to be informed by hard data and analytics. Leading this early adoption of analytics, and reporting directly to team Vice President Howie Roseman, were Joe Douglas and Alec Halaby, “a 31-year-old Harvard grad with a job description” that had an emphasis on “integrating traditional and analytical methods in football decision-making.” The result? A “blending of old-school scouting and newer approaches” that were often only seen in other leagues, such as the NBA and MLB <span class="citation" data-cites="rosenthal2018">(<a href="references.html#ref-rosenthal2018" role="doc-biblioref">Rosenthal 2018</a>)</span>. Pederson believed in and trusted the team’s approach to analytics so much that a direct line of communication was created between the two during games, with the analytics department providing the head coach with math-based recommendations for any scenario Pederson requested <span class="citation" data-cites="awbrey2020">(<a href="references.html#ref-awbrey2020" role="doc-biblioref">Awbrey 2020</a>)</span>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>In just under five years time since the publishing of that article, it has become hard to ignore the analytic movement within the NFL. Yet, there is still so much growth to happen in the marriage between the NFL and advanced metrics. For example, there is no denying that the sabermetrics movement drastically “altered baseball’s DNA” <span class="citation" data-cites="heifetz2019">Heifetz (<a href="references.html#ref-heifetz2019" role="doc-biblioref">2019</a>)</span>]. Moreover, as explained in Seth Partnow’s outstanding <a href="https://www.amazon.com/Midrange-Theory-Basketballs-Evolution-Analytics/dp/1637270968/ref=tmm_pap_swatch_0?_encoding=UTF8&amp;qid=1656245879&amp;sr=8-4"><em>The Midrange Theory: Basketball’s Evolution in the Age of Analytics</em></a>, the analytics movement in the NBA essentially killed the midrange shot (briefly: it is more beneficial to try to work the ball in directly under the basket (for a high-percentage shot) or to take the 3-pointer, as the possible additional point is statistically worth more despite the lower success probability as opposed a 2-point midrange shot) as well as the traditional, “old-school” center position.</p>
<p>Compared to both the NBA and MLB, the NFL is playing catch up in analytics driving changes equivalent to the death of the midrange shot or the plethora of additional tactics and changes to baseball because of sabermetrics. Joe Banner, who served as the President of the Eagles from 2001-2012 and then the Chief Executive Officer of the Browns from 2012-2013, explained that some of the hesitation to incorporate analytics into NFL game planning was a result of the game being “very much driven by conventional wisdom to an extreme degree” <span class="citation" data-cites="fortier2020">(<a href="references.html#ref-fortier2020" role="doc-biblioref">Fortier 2020</a>)</span>. Perhaps nobody encapsulates this better than Pittsburgh Steelers Head Coach Mike Tomlin. When asked about his position on analytics during the 2015 season, Tomlin explained:</p>
<blockquote class="blockquote">
<p>I think that’s why you play the game. You can take analytics to baseball and things like that but football is always going to be football. I got a lot of respect for analytics and numbers, but I’m not going to make judgements based on those numbers. The game is the game. It’s an emotional one played by emotional and driven men. That’s an element of the game you can’t measure. Often times decisions such as that weigh heavily into the equation <span class="citation" data-cites="kozora2015">(<a href="references.html#ref-kozora2015" role="doc-biblioref">Kozora 2015</a>)</span>.</p>
</blockquote>
<p>Given that Tomlin’s quote is from 2015, perhaps the Steelers pivoted since and are now more analytically inclined. That does not seem to be the case. In a poll of NFL analytics staffers conducted by ESPN, <a href="https://www.espn.com/nfl/story/_/id/29939438/2020-nfl-analytics-survey-which-teams-most-least-analytically-inclined#least">the Steelers were voted as one of the least analytically advanced teams in the league.</a></p>
<p>There is large gap between the least analytically inclined teams (Washington, Tennessee, Cincinnati, New York Giants, and Pittsburgh) and those voted as the most analytically inclined (Baltimore, Cleveland, Philadelphia, and Houston). In the ESPN poll, the Browns were voted as the analytics department producing the highest level of work. One of those polled spoke to the fact that much of this outstanding work is a result of General Manager Andrew Berry being a “true believer,” explaining that he is one of the “rare guys you’ll come across in life where you think to yourself, ‘Man, this guy thinks at a different level. Just pure genius.’ He’s one of them.”</p>
<p><a href="https://www.washingtonpost.com/sports/2020/01/16/nfls-analytics-movement-has-finally-reached-sports-mainstream/">In his article for the <em>Washington Post</em></a>, Sam Fortier argues that many teams became inspired to more intimately introduce analytics into game planning and on-field decisions after the 2017 season. On their run to becoming Super Bowl Champions, the Philadelphia Eagles were aggressive on 4th down, going for it 26 times during the season and converting on 17 of those for a conversion percentage of 65.4%. A quick examination and visualization of data highlights the absolutely staggering increase in 4th aggressiveness among NFL head coaches from 2017-2021:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/4th-down-attempts.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">4th Down Attempts: 2000 - 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>There has been a 96.3% increase in the number of 4th down attempts from just 2017 to 2021. In fact, the numbers may actually be higher as I was quite conservative in building the above plot by only considering those 4th down attempts that took place when the offensive team had between a 5-to-95% winning probability and those prior to the two-minute warning of either half. Even with those conservative limitations, the increase is staggering. The numbers, however, support this aggression. During week one of both the 2020 and 2021 season, <em>not</em> going for it on 4th down “cost teams a cumulative 170 percentage points of win probability” <span class="citation" data-cites="bushnell2021">(<a href="references.html#ref-bushnell2021" role="doc-biblioref">Bushnell 2021</a>)</span>.</p>
<p>Ben Baldwin, using the <code>nfl4th</code> package that is part of the <code>nflverse</code>, tracked the shift in NFL coaching mentality regarding 4th down decisions by comparing 2014’s “go for it percentage” against the same for 2020. When compared to the 2014 season, NFL coaches are now much more in agreement with analytics on when to “go for it” on 4th down in relation to the expected gain in win probability.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/baldwin-graph-goforit.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Credit: Ben Baldwin</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>It should not be surprising then, considering Mike Tomlin’s quote from above and other NFL analytics staffers voting the Steelers as one of the least analytically driven teams in the league, that Pittsburgh lost the most win probability by either kicking or punting in “go for it” situations during the 2020 NFL season. On the other end, the Ravens and Browns - two teams voted as the most analytically inclined - are the two best organizations at knowing when to “go for it” on 4th down based on win probability added. There seems to be a defined relationship between teams buying into analytics and those who do not:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/tomlin-go-for-it.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Credit: Ben Baldwin</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The NFL’s turn towards more aggressive 4th-down decisions is just one of the many analytics-driven changes occurring in the league. Another significant example is Defense-Adjusted Value over Average (or DVOA), a formula created by Aaron Schatz, now the editor in chief of <a href="https://www.footballoutsiders.com/info/methods#dvoa">Football Outsiders</a>, that sought to challenge the notion that teams should, first, establish the running game in order to open up the passing game. Some of these changes are apparent on televisions screens on Sunday afternoons in the Fall, while others are occurring behind the scenes (analytics departments working on scouting and draft preparation, for example). Indeed, the use of analytics in the NFL is not as tightly ingrained as we see in other prominent leagues. And we must remember that there are certainly continued hold outs among some NFL coaches (like Mike Tomlin).</p>
<p>Despite some coaching hold outs on fully embracing analytics, the “thirst for knowledge in football is as excessive as any other sport and the desire to get the most wins per dollar is just as high.” As the pipeline of data continues to grow, both internally in the league and data that becomes publicly accessible, “smart teams will continue to leave no rock unturned as they push the limits on how far data can take them.” Joe Banner explained that while the NFL has long been a league of coaches saying “well, that is the way we’ve always done it,” the league is ripe for a major shift <span class="citation" data-cites="bechtold2021">(<a href="references.html#ref-bechtold2021" role="doc-biblioref">Bechtold 2021</a>)</span>.</p>
<p>Banner’s belief that those teams searching for every competitive advantage will “leave no rock unturned” is the driving force behind this book. For all intents and purposes, the age of analytics in the NFL is still in its infancy. Turning back, again, to the 2017 season, the Eagles’ management praised and credited the team’s analytics department as part of the reason they were able to win Super Bowl LII. Doing so Danney Heifetz argues, “changed the language of football.” The NFL, he explains, is a “copycat league” and, as witnessed with the increase in 4th down aggressiveness since 2017, teams immediately began to carbon copy Philadelphia’s approach to folding traditional football strategy with a new age analytics approach. Because of the modernity of this relationship between long-held football dogmas and analytics, nobody can be quite sure what other impacts it will create on the gamesmanship of football.</p>
<p>However, as Heifetz opines, both the NBA and MLB can serve as a roadmap to where analytics will take the NFL. Importantly, the NFL’s relationship with analytics is still in its “first frontier of what will likely be a sweeping change over the next two decades.” Because of this, we cannot be sure what the next major impact analytics will make, nor when it may occur. But, with the ever-growing amount of publicly accessible data, it is only a matter of time until it is discovered. For example, in an interview with Heifetz, Brian Burke - one of the forefather’s of NFL analytics and now a writer for ESPN - expressed his belief that the next major impact will be “quantifying how often quarterbacks make the correct decision on the field.”</p>
<p>It seems that every new NFL season results in an amateur analyst bringing a groundbreaking model and/or approach to the table. Unlike, for example, MLB where there is little left to discover in terms of sabermetrics and new approaches to understanding the game and its associated strategy, the NFL is - for lack of a better phrase - an open playing field. With more and more data becoming available to the public, it is now easier than ever investigate your own ideas and suspicions and to create your own models to confirm your intuition.</p>
<p>For example, I am originally from the greater Pittsburgh area and am a big Steelers fan (which certainly explains some of the Steelers-centric examples I use in the writing of this book). I was adamant in my belief that Pittsburgh’s TJ Watt should win the 2021 Defensive Player of the Year award, despite many others calling for Los Angeles’ Aaron Donald to claim the title. In effort to prove my point, I sought out to design what I coined <strong><em>Adjusted Defensive Impact</em></strong>. To begin, I wanted to explore the idea that not all defensive sacks are created equal, as a player’s true impact is not always perfectly represented by top-level statistics.</p>
<p>To account for that, I opted to adjust and add statistical weight to sack statistics. This was done over multiple areas. For instance, not all players competed in all 17 regular-season games in 2021. To adjust for this, I took the total of game played in the data (2,936) and divided by 17 (a full season) to achieve a weighted adjustment of 0.0058. TJ Watt played in just 15 games in 2021. His adjusted equation, therefore, is (17-‘games’) * 0.0058. The result? He gets a bit more credit for this adjustment than, say, Myles Garrett who played all 17 regular-season games.</p>
<p>Going further with the model, I created a weighted adjustment for solo sacks (0.90), a negative weighted adjustment (-0.14) for any sack charted as “unblocked,” and a weighted adjustment to account for how many times a player actually rushed the QB compared to how many defensive snaps they played. Using data from the SIS Data Hub, the full code is below:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## selecting just information I want and then renaming</span></span>
<span><span class="va">pass.data</span> <span class="op">&lt;-</span> <span class="va">pass_rush_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">Player</span>, <span class="va">Team</span>, <span class="va">Games</span>, <span class="va">`Pass Snaps`</span>, <span class="va">`Pass Rushes`</span>,</span>
<span>         <span class="va">`Solo Sacks`</span>, <span class="va">`Ast. Sacks`</span>, <span class="va">`Comb. Sacks`</span>, </span>
<span>         <span class="va">`Unblocked Sacks`</span>, <span class="va">Hurries</span>, <span class="va">Hits</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">rename</span><span class="op">(</span>total.snaps <span class="op">=</span> <span class="va">`Pass Snaps`</span>,</span>
<span>         total.rushes <span class="op">=</span> <span class="va">`Pass Rushes`</span>,</span>
<span>         solo.sacks <span class="op">=</span> <span class="va">`Solo Sacks`</span>,</span>
<span>         asst.sacks <span class="op">=</span> <span class="va">`Ast. Sacks`</span>,</span>
<span>         comb.sacks <span class="op">=</span> <span class="va">`Comb. Sacks`</span>,</span>
<span>         unblocked.sacks <span class="op">=</span> <span class="va">`Unblocked Sacks`</span>,</span>
<span>         player <span class="op">=</span> <span class="va">Player</span>,</span>
<span>         team <span class="op">=</span> <span class="va">Team</span>,</span>
<span>         games <span class="op">=</span> <span class="va">Games</span>,</span>
<span>         hurries <span class="op">=</span> <span class="va">Hurries</span>,</span>
<span>         hits <span class="op">=</span> <span class="va">Hits</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## creating a new column to get percentages of snaps where player rushed</span></span>
<span><span class="va">pass.data</span><span class="op">$</span><span class="va">rush.percent</span> <span class="op">&lt;-</span> <span class="va">pass.data</span><span class="op">$</span><span class="va">total.rushes</span> <span class="op">/</span> <span class="va">pass.data</span><span class="op">$</span><span class="va">total.snaps</span></span>
<span></span>
<span><span class="co">## getting weights to add to the equation</span></span>
<span><span class="co">## for example, a solo sack is "more impressive" than an assisted sack. </span></span>
<span><span class="co">## to account for this, we will take the sum of combined sacks (995) and divide </span></span>
<span><span class="co">## by the sum of solo sacks (892) which is (0.9). Therefore, a weight of 0.9 will</span></span>
<span><span class="co">## be placed on solo sacks.</span></span>
<span></span>
<span><span class="co">## as well, a negative weight will be applied to unblocked sacks. Using the total</span></span>
<span><span class="co">## of solo sacks (892) and dividing by the sum of unblocked sacks (128) gives us a</span></span>
<span><span class="co">## NEGATIVE weight of 0.14 to be applied to unblocked sacks</span></span>
<span></span>
<span><span class="co">## further, a weight must be applied to those players who played less than a complete season.</span></span>
<span><span class="co">## the weight here works out to be 0.0058.</span></span>
<span></span>
<span><span class="co">## summarizing information</span></span>
<span><span class="va">calculated.impact</span> <span class="op">&lt;-</span> <span class="va">pass.data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">player</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span></span>
<span>    adjusted.games <span class="op">=</span> <span class="op">(</span><span class="fl">17</span> <span class="op">-</span> <span class="va">games</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.0058</span>,</span>
<span>    adjusted.solo <span class="op">=</span> <span class="va">solo.sacks</span> <span class="op">*</span> <span class="fl">0.9</span>,</span>
<span>    adjusted.unblocked <span class="op">=</span> <span class="va">unblocked.sacks</span> <span class="op">/</span> <span class="op">-</span><span class="fl">0.14</span>,</span>
<span>    adjusted.rush.percent <span class="op">=</span> <span class="fl">0.81</span> <span class="op">-</span> <span class="va">rush.percent</span>,</span>
<span>    combined.impact <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">adjusted.games</span> <span class="op">+</span> <span class="op">(</span><span class="va">solo.sacks</span> <span class="op">*</span> <span class="fl">0.9</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">unblocked.sacks</span> <span class="op">*</span> <span class="op">-</span><span class="fl">0.14</span><span class="op">)</span> <span class="op">+</span> <span class="va">adjusted.rush.percent</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The end result? Taking into account the above adjusted defensive impact, TJ Watt was absolutely dominant during the 2021 season:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/adjusteddefense.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Adjusted Defensive Impact</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>All of these examples - from Ben Baldwin’s 4th-down model, to Football Outsiders’ DVOA, to my attempt to further quantify defensive player impact - are just the leading edge of the burgeoning analytics movement in the NFL. Moreover, the beauty of analytics is that you do not have to be a mathematician or statistics buff in order to enter the fray. All it takes is a genuine curiosity to explore what Bob Carroll, Pete Palmer, and John Thorn coined as the “<a href="https://amzn.to/3y1GZTO">Hidden Game of Football</a>” and the desire to learn, if you have not already, the R programming language.</p>
<section id="who-this-book-is-for" class="level3" data-number="1.0.1"><h3 data-number="1.0.1" class="anchored" data-anchor-id="who-this-book-is-for">
<span class="header-section-number">1.0.1</span> Who This Book Is For</h3>
<p>Writing a book that is wholly dependent on the R programming language to achieve the end goals is not an easy task, as there are likely two types of people reading this: those with familiarity in R and those without. If you are part of the former group, you can likely skip chapter 2 as it is a primer on installing R and learning the language of the <code>tidyverse</code>. On the other hand, if you are part of the latter group, you should skip ahead to chapter 2 before even looking at chapter 1, which serves as an introduction to the <code>nflverse</code> with examples. That said, this book can serve multiple audiences:</p>
<ol type="1">
<li><p>Those interested in learning how to produce NFL analytics regardless of their current knowledge of the R programming language.</p></li>
<li><p>Professors who instruct data science courses can provide lessons through the lens of sport or, perhaps better, create their own Sport Analytics courses designed around the book. Moreover, future plans for this book include instruction reference guides to include PowerPoint templates, assignments/project instructions and grading rubrics, and quiz/exam content for online management systems (D2L, Canvas, Moodle, etc.).</p></li>
<li><p>Students are able to use this book in multiple ways. For example, in my Sport Analytics course, students are first introduced to R and the <code>tidyverse</code> using the built-in R data sets (<code>mtcars</code>, <code>iris</code>, and <code>nycflights13</code>). While those data sets certainly serve a purpose, I have found that students grasp the concepts and language of the <code>tidyverse</code> more quickly when the class turns to using data from the <code>nflverse</code>. Because of this, students can use this book to start learning the R programming language using football terms (passing yards, first downs, air yards, completion percentage over expected) as opposed to the variables they may find much less interesting housed in the built-in data. Moreover, students already fluid in R can use this book to construct machine learning models using football data, for example, as part of assignments in data science/analytics courses.</p></li>
<li><p>Journalists, bloggers, and arm-chair quarterbacks alike can use the book to underpin their arguments and to provide hard data to backup their claims.</p></li>
</ol>
<p>It is also important to note that it is not expected for you to be an expert in statistics, coding, or data modeling in order to find this book useful. In fact, I self-taught myself the R programming language after discovering its potential usefulness in my personal academic research. I only “became more serious” about advancing my understanding of the language’s nuances, and more advanced methods, after discovering the <code>nflscrapR</code> package and using it as my learning tool for the deep dive into R. My decision to pursue an academic certificate in the language was driven by the creation of my Sport Analytics course, as the certificate provided the “academic training” proof that was necessary to move the course through the University’s curriculum committee. Nonetheless, because of this self-taught journey - and despite being an academic myself - I find that I largely avoid the use of “complicated jargon” that is so evident in most formal writing.</p>
<p>Because of this, and regardless of which chapter you begin with, I believe that this book achieves its main goal: to provide a gentle introduction to doing NFL analytics with R.</p>
</section><section id="overview-of-chapters" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="overview-of-chapters">
<span class="header-section-number">1.1</span> Overview of Chapters</h2>
<ul>
<li><p><strong>Chapter 1</strong> provides an overview of the <code>nflverse</code> with specific attention paid to the difference between using <code>nflfastR</code> versus <code>nflreadr</code>. Serving as the first dive into analytics, the chapter showcases how to use <code>nflreadr</code> to retrieve both compiled weekly NFL stats and the deeply robust play-by-play statistics. In both cases, exercises are provided. Readers will do their first coding by, first, using the weekly stats to determine the 2021 leaders in air yards per attempt. Second, readers will use the play-by-play statistics from the 2021 season to create a brand new metric (QB aggressiveness on 3rd down pass attempts). Afterward, readers will learn how to retrieve multiple seasons of data at once.</p></li>
<li><p><strong>Chapter 2</strong> covers the process of downloading both R and RStudio, as well as the necessary packages to do NFL analytics. As one of the most important chapters in the book (especially for those new to the R programming language), readers take a deep dive into wrangling NFL data with the <code>tidyverse</code> package. To begin, readers will learn about the <code>dplyr</code> pipe (<code>%&gt;%</code>) and use, in exercises, the six most important verbs in the <code>dplyr</code> language: <code>filer()</code>, <code>select()</code>, <code>arrange()</code>, <code>summarize()</code>, <code>mutate()</code>, and <code>group_by()</code>. At the conclusion of the chapter, multiple exercises are provided to allow readers to practice using the <code>dplyr</code> verbs, relational operators within the <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> function and creating “new stats” by using the <code>summarize()</code> function. Moreover, readers will determine the relationship between the <code>dplyr</code> language and important variables within the <code>nflverse</code> data such as <code>player_name</code> and <code>player_id</code>, which is important for correct manipulation and cleaning of data.</p></li>
<li><p><strong>Chapter 3</strong> examines the numerous and, often, bewildering amount of functions “underneath the hood” of the packages that makes up the <code>nflverse</code>. For example, <code>load_pbp()</code> and <code>load_player_stats()</code> are included in both <code>nflfastR</code> and <code>nflreadr</code>. However, <code>load_nextgen_stats()</code>, <code>load_pfr_stats()</code>, and <code>load_contracts()</code> are all part of just <code>nflreadr</code>. Because of this complexity, readers will learn how to efficiently operate within the <code>nflverse</code>. Moreover, chapter 3 provides dozens of examples and exercises related to all of the various functions included. For example, readers will learn to use <code>load_nextgen_stats()</code> to determine which running backs get to the line of scrimmage the quickest and will use <code>load_pfr_stats()</code> to explore advanced defensive metrics across multiple seasons.</p></li>
<li><p><strong>Chapter 4</strong> moves readers from data cleaning and manipulation to an introduction to data visualization using <code>ggplot2</code>. As well, chapter 4 provides further instruction on <code>nflverse</code> functions such as <code>clean_player_names()</code>, <code>clean_team_abbrs()</code>, and <code>clean_homeaway()</code>. As well, to prep for data visualization, readers will be introduced to the <code>teams_colors_logos</code> and <code>load_rosters</code> functions as well as the <code>nflplotR</code> package, which provides “functions and geoms to help visualization of NFL related analysis” <span class="citation" data-cites="carl2022">(<a href="references.html#ref-carl2022" role="doc-biblioref">Carl 2022</a>)</span>. Readers will produce multiple types of visualizations, including <code>geom_bar</code>, <code>geom_point</code>, <code>geom_density</code>, and more. As well, readers will learn to use <code>facet_wrap</code> and <code>facet_grid</code> to display data over multiple seasons. For visualizations that include team logos or player headshots, instruction will cover both how to do the coding manually using <code>teams_colors_logos</code> or <code>load_rosters</code> and to use the <code>nflplotr</code> package to avoid the need to use <code>left_join</code> to merge <code>teams_colors_logos</code> to your dataframe.</p></li>
<li><p><strong>Chapter 5</strong> introduces advanced methods in R using <code>nflverse</code> data, with a specific focus on modeling and machine learning. To streamline the process of learning, readers will be introduced to <code>tidymodels</code>, a “collection of packages for modeling and machine learning using <code>tidyverse</code> principles” <span class="citation" data-cites="silge">(<a href="references.html#ref-silge" role="doc-biblioref">Silge, n.d.</a>)</span>. As an example, readers will first be introduced to <a href="https://twitter.com/tejfbanalytics">Tej Seth’s</a> Rushing Yards Over Expected model (<a href="https://github.com/tejseth/RYOE">GitHub</a>, <a href="https://mfbanalytics.shinyapps.io/RYOE/">ShinyApp</a>). The model will serve as a learning tool to help readers understand the relationship between <code>nflfastR</code> data and machine learning (in Tej’s case, an <code>xgboost</code> model). Afterward, specific attention is given to binary classification, multiclass classification, and regression computer learning models. At the conclusion of the chapter, readers will be provided exercises to allow them to develop their own supervised and unsupervised machine learning models.</p></li>
<li><p><strong>Chapter 6</strong> introduces data from sources outside of the <code>nflverse</code>, including premium statistics from Pro Football Focus and Sports Info Solutions. Readers will learned to use various functions, such as <code>clean_team_names</code>, in order to prepare the data to merge with data from the <code>nflverse</code>. As well, this chapter will introduce readers to working with player tracking data. To do so, data will be provided from the <a href="https://operations.nfl.com/gameday/analytics/big-data-bowl/">NFL’s Big Data Bowl</a>. To highlight the work being completed using player tracking, this chapter will discuss the Big Data Bowl entries of <a href="https://twitter.com/MPloenzke">Matt Ploenzke</a> (<a href="https://operations.nfl.com/media/4204/bdb_ploenzke.pdf"><em>The Importance of Ball Carrier Downfield Acceleration and Unblocked Tackler Distance and Spacing</em></a>) and the team of Kellin Rumsey &amp; Brandon DeFlon (<a href="https://operations.nfl.com/media/4209/bdb_rumsey_deflon.pdf"><em>The Battle Between Blocker and Defender Is Often Decided by Leverage</em></a>).</p></li>
</ul></section><section id="about-the-author" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="about-the-author">About The Author</h2>
<p>I (Bradley Congelio) am currently an Assistant Professor in the College of Business at <a href="https://www.kutztown.edu/">Kutztown University of Pennsylvania</a>. Aside from my core area of instruction, I also instruct the very popular Sport Analytics (SPT 313) course.</p>
<p>I earned my Ph.D.&nbsp;from the University of Western Ontario and received a specialized certificate in R for Data Analytics from the University of California, San Diego in 2021. I am a proud undergraduate alumni of <a href="https://westliberty.edu/">West Liberty University</a> and am a strong advocate of a broad-based liberal arts education.</p>
<p>My research focuses on using big data, the R programming language, and analytics to explore the impact of professional stadiums on neighboring communities. I use the proprietary Zillow ZTRAX database as well as U.S. Census and other forms of data to create robust, applied, and useful insight into how best to protect those living in areas where stadiums are proposed for construction.</p>
<p>As well, my work in sport analytics, specifically the NFL, has been featured on numerous media outlets, including the <em>USA Today</em> and <em>Sports Illustrated</em>.</p>
<p>Finally, my most recent academic, peer-reviewed publications include:</p>
<ol type="1">
<li><p>Congelio, B. (2022). ’Examining the Impact of New Stadium Construction on Local Property Prices Using Data Analytics and the Zillow ZTRAX Database.” <em>Journal of Business, Economics, and Technology</em> Spring 2022, 39-55.</p></li>
<li><p>Congelio, B. (2021). “Monitoring the Policing of Olympic Host Cities: A Novel Approach Using Data Analytics and the LA2028 Olympic Summer Games.” <em>Journal of Olympic Studies</em> 2(2), 129-145.</p></li>
<li><p>Congelio, B. “Predicting the Impact of a New Stadium on Surrounding Neighborhoods Through the Use of a <em>k</em>-means Unsupervised Clustering Algorithm.” <u>Currently under peer review.</u></p></li>
<li><p>Congelio, B. “Examining Megaevent’s Impact on Foot Traffic to Local Businesses Using Mobility and Demographic Aggregation Data.” <u>Currently under peer review and funded by a $15,000 grant.</u></p></li>
</ol>
<section id="why-a-book-instead-of-working-in-analytics" class="level3" data-number="1.1.1"><h3 data-number="1.1.1" class="anchored" data-anchor-id="why-a-book-instead-of-working-in-analytics">
<span class="header-section-number">1.1.1</span> Why A Book Instead of Working in Analytics?</h3>
<p>I am sometimes asked why I spend time in the classroom teaching this material rather than taking my domain knowledge to the “industry side” and working in the NFL or an otherwise NFL-connected outlet.</p>
<p>The honest and, likely boring, answer is this: I love teaching. My favorite experience in the classroom yet is always in my Sport Analytics course. The frustration and sense of helplessness is palpable in the first weeks of the semester as students attempt to wrap their head around, what a former student called, “this [censored] foreign language.” I insist that they keep pushing through the exercises and assignments. Often, there is line out my door and extending down the hallway during office hours comprised of just students from the Sport Analytics class.</p>
<p>And then something amazing happens.</p>
<p>Typically about halfway through the semester, I start seeing the light bulbs go off. Instead of cursing in anger at the “foreign language,” students begin randomly cursing in excitement as the flow of the <code>tidyverse</code> language “clicks.” Once that happens, it is off to the races because, once they understand speaking in <code>tidyverse</code>, learning more difficult packages (like <code>tidymodels</code>) seems doable.</p>
<p>And that is why I teach. That moment where I realize my lecturing, assisting, explaining, and gentle nudging are all finally paying dividends - not for me, though. For the students.</p>
<p>This book serves as an extension of that classroom experience. As a reader of this book, you are now a “student” and I hope you do not hesitate to reach out to me if you ever have any questions or, more importantly, <em>when (not if)</em> you have that “light bulb moment” and everything begins to click for you.</p>
</section></section><section id="technical-details" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="technical-details">Technical Details</h2>
<p>This book was written using RStudio’s <a href="https://rstudio.github.io/visual-markdown-editing/">Visual Editor for R Markdown</a>. It was published using the <code>Quarto</code> publishing system built on <code>Pandoc</code>. As well, the following packages were used in this book:</p>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>Packages Used In This Book</caption>
 <thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> package </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> version </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> source </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> dplyr </td>
   <td style="text-align:left;"> 1.1.0 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> ggplot2 </td>
   <td style="text-align:left;"> 3.4.0 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> gt </td>
   <td style="text-align:left;"> 0.8.0 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> nflfastR </td>
   <td style="text-align:left;"> 4.5.1 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> nflreadr </td>
   <td style="text-align:left;"> 1.3.2 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> nflverse </td>
   <td style="text-align:left;"> 1.0.2 </td>
   <td style="text-align:left;"> https://nflverse.r-universe.dev (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> scales </td>
   <td style="text-align:left;"> 1.2.1 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> tidymodels </td>
   <td style="text-align:left;"> 1.0.0 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> tidyverse </td>
   <td style="text-align:left;"> 1.3.2 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
<tr>
<td style="text-align:left;"> webshot </td>
   <td style="text-align:left;"> 0.5.4 </td>
   <td style="text-align:left;"> CRAN (R 4.1.3) </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>Finally, please note that this book uses the <code>dplyr</code> pipe operator (<code>%&gt;%</code>) as opposed to the new, built-in pipe operator released with version 4.1 of R (<code>|&gt;</code>). It is likely that you can work through the exercises and examples in this book by using either operator. I maintain my use of the <code>dplyr</code> pipe operator for no other reason than personal preference.</p>
</section><section id="license" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="license">
<span class="header-section-number">1.2</span> License</h2>
<p>The online version of this book is published with the <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) license.</a></p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-awbrey2020" class="csl-entry" role="doc-biblioentry">
Awbrey, Jake. 2020. <span>“The Future of NFL Analytics.”</span> <a href="https://www.samford.edu/sports-analytics/fans/2020/The-Future-of-NFL-Data-Analytics">https://www.samford.edu/sports-analytics/fans/2020/The-Future-of-NFL-Data-Analytics</a>.
</div>
<div id="ref-bechtold2021" class="csl-entry" role="doc-biblioentry">
Bechtold, Taylor. 2021. <span>“How the Analytics Movement Has Changed the NFL and Where It Has Fallen Short.”</span> <a href="https://theanalyst.com/na/2021/04/evolution-of-the-analytics-movement-in-the-nfl/">https://theanalyst.com/na/2021/04/evolution-of-the-analytics-movement-in-the-nfl/</a>.
</div>
<div id="ref-bigdatabowl-ws" class="csl-entry" role="doc-biblioentry">
<span>“Big Data Bowl: The Annual Analytics Contest Explores Statistical Innovations in Football.”</span> n.d. <a href="https://operations.nfl.com/gameday/analytics/big-data-bowl/">https://operations.nfl.com/gameday/analytics/big-data-bowl/</a>.
</div>
<div id="ref-bushnell2021" class="csl-entry" role="doc-biblioentry">
Bushnell, Henry. 2021. <span>“NFL Teams Are Taking 4th-down Risks More Than Ever - but Still Not Often Enough.”</span> <a href="https://sports.yahoo.com/nfl-teams-are-taking-4th-down-risks-more-than-ever-but-still-not-often-enough-163650973.html">https://sports.yahoo.com/nfl-teams-are-taking-4th-down-risks-more-than-ever-but-still-not-often-enough-163650973.html</a>.
</div>
<div id="ref-carl2022" class="csl-entry" role="doc-biblioentry">
Carl, Sebastian. 2022. <span>“nflplotR.”</span> <a href="https://nflplotr.nflverse.com/">https://nflplotr.nflverse.com/</a>.
</div>
<div id="ref-fortier2020" class="csl-entry" role="doc-biblioentry">
Fortier, Sam. 2020. <span>“The NFL’s Analytics Movement Has Finally Reached the Sport’s Mainstream.”</span> <a href="https://www.washingtonpost.com/sports/2020/01/16/nfls-analytics-movement-has-finally-reached-sports-mainstream/">https://www.washingtonpost.com/sports/2020/01/16/nfls-analytics-movement-has-finally-reached-sports-mainstream/</a>.
</div>
<div id="ref-heifetz2019" class="csl-entry" role="doc-biblioentry">
Heifetz, Danney. 2019. <span>“We Salute You, Founding Father of the NFL’s Analytics Movement.”</span> <a href="https://www.theringer.com/nfl-preview/2019/8/15/20806241/nfl-analytics-pro-football-focus">https://www.theringer.com/nfl-preview/2019/8/15/20806241/nfl-analytics-pro-football-focus</a>.
</div>
<div id="ref-kozora2015" class="csl-entry" role="doc-biblioentry">
Kozora, Alex. 2015. <span>“Tomlin Prefers "Feel over Analytics".”</span> <a href="http://steelersdepot.com/2015/09/tomlin-prefers-feel-over-analytics/">http://steelersdepot.com/2015/09/tomlin-prefers-feel-over-analytics/</a>.
</div>
<div id="ref-rosenthal2018" class="csl-entry" role="doc-biblioentry">
Rosenthal, Gregg. 2018. <span>“Super Bowl LII: How the 2017 Philadelphia Eagles Were Built.”</span> <a href="https://www.nfl.com/news/super-bowl-lii-how-the-2017-philadelphia-eagles-were-built-0ap3000000912753">https://www.nfl.com/news/super-bowl-lii-how-the-2017-philadelphia-eagles-were-built-0ap3000000912753</a>.
</div>
<div id="ref-silge" class="csl-entry" role="doc-biblioentry">
Silge, Julia. n.d. <span>“Tidymodels.”</span> <a href="https://tidymodels.org">https://tidymodels.org</a>.
</div>
</div>
</section></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Thanks to Ben Baldwin for chatting with me on Discord and providing this brief understanding of the backstory.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Thanks, again, to Ben Baldwin for providing his personal knowledge about the “early days” of the Eagles’ analytics department.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./01-nfl-analytics-and-r.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">An Introduction to NFL Analytics and the R Programming Language</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">NFL Analytics with R was written by Bradley J. Congelio.</div>   
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>


<script src="https://platform.twitter.com/widgets.js"></script>
</body></html>